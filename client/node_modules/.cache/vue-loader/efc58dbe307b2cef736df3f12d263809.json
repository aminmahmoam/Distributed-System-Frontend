{"remainingRequest":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aminmahmoudi/Desktop/DIT356/client 2/client/src/views/Booking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/src/views/Booking.vue","mtime":1670512138419},{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBIb21lIGZyb20gJy4vSG9tZS52dWUnCmltcG9ydCBtcXR0IGZyb20gJy4uL01RVFQnCmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEhvbWUgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6ICcnLAoKICAgICAgZGF0ZTogJycsCiAgICAgIGNsaW5pY05hbWU6ICcnLAogICAgICB0aW1lOiAnJywKICAgICAgZGVudGlzdDogJycsCgogICAgICBuZXdCb29raW5nOiAnJywKICAgICAgbmV3RGF0ZTogJycsCiAgICAgIGNsaW5pY3M6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgYWRkcmVzczogJycKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvL3RoaXMuZ2V0TmFtZXMoKQogICAgdGhpcy5zaG93RGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXROYW1lcygpIHsKICAgICAgdGhpcy5jbGluaWNzID0gbXF0dCgnZ2V0QWxsQycsICcvY2xpbmljcycsIHRoaXMuZGF0YSkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jbGluaWNzWzBdLmRhdGEuZGVudGlzdHNbMF0ubmFtZQogICAgICAgIHRoaXMuYWRkcmVzcyA9IHRoaXMuY2xpbmljc1swXS5kYXRhLmRlbnRpc3RzWzBdLmFkZHJlc3MKICAgICAgfSwgMTAwMCkKICAgIH0sCiAgICBzaG93RGF0YSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGUucXVlcnkpCiAgICAgIGxldCByZXN1bHQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlCiAgICAgIHRoaXMuZGF0ZSA9IHJlc3VsdC5zdWJzdHIoMCwxMCkKICAgICAgdGhpcy5jbGluaWNOYW1lID0gdGhpcy4kcm91dGUucXVlcnkubmFtZQogICAgICB0aGlzLnRpbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50aW1lCiAgICAgIHRoaXMuZGVudGlzdCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmRlbnRpc3QKICAgIH0sCiAgICBib29rTm93KCkgewogICAgICBjb25zdCBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMgPSBTd2FsLm1peGluKHsKICAgICAgICBjdXN0b21DbGFzczogewogICAgICAgICAgY29uZmlybUJ1dHRvbjogJ2J0biBidG4tc3VjY2VzcycsCiAgICAgICAgICBjYW5jZWxCdXR0b246ICdidG4gYnRuLWNhbmNlbCcKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiB0cnVlCiAgICAgIH0pCiAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKHsKICAgICAgICB0ZXh0OiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGJvb2sgdGhpcyB0aW1lc2xvdD8nLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdCb29rJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJ1JlZCcsCiAgICAgICAgcmV2ZXJzZUJ1dHRvbnM6IHRydWUKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoCiAgICAgICAgICAgICdCb29rZWQnLAogICAgICAgICAgICAnVGhlIHRpbWUgaGFzIGJlZW4gYm9va2VkIScsCiAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgKQogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICByZXN1bHQuZGlzbWlzcyA9PT0gU3dhbC5EaXNtaXNzUmVhc29uLmNhbmNlbAogICAgICAgICkgewogICAgICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoCiAgICAgICAgICAgICdDYW5jZWxsZWQnLAogICAgICAgICAgICAnQm9va2luZyBpcyBjYW5jZWxlZCEnLAogICAgICAgICAgICAnZXJyb3InCiAgICAgICAgICApCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGJvb2soKSB7CiAgICAgIHRoaXMubmV3Qm9va2luZyA9IHsKICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgIHJlcXVlc3RJZDogdGhpcy5yZXF1ZXN0SWQsCiAgICAgICAgZGVudGlzdElkOiB0aGlzLmRlbnRpc3RJZCwKICAgICAgICBpc3N1YW5jZTogdGhpcy5pc3N1YW5jZSwKICAgICAgICBkYXRlOiB0aGlzLm5ld0RhdGUKCiAgICAgIH0KICAgICAgY29uc3QgcmVzdWx0ID0gbXF0dCgnYm9vaycsICcvYm9va2luZ3MnLCB0aGlzLm5ld0Jvb2tpbmcpCiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkKICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNmdWxsJykKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygndW5zdWNjc2VzZnVsbCcpCiAgICAgIH0KICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["Booking.vue"],"names":[],"mappings":";AAYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Booking.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"booking-box\">\n    <p style=\"margin-bottom: 60px; font-size: 18px; color: #748FC4 \">Please confirm the following details below</p>\n        <h1 style=\"margin-top: 20px; margin-bottom: -1px;\">{{this.clinicName}}</h1>\n        <h style=\"font-size: 24px;\">{{this.dentist}}</h>\n        <h2>{{this.date}}</h2>\n        <h1>{{this.time}}</h1>\n        <div class=\"book-button\" style=\"margin-top: 50px; color: #748FC4\" @click=\"bookNow\"><h class=\"edit-text\">Book Now</h></div>\n    </div>\n</template>\n\n<script>\nimport Home from './Home.vue'\nimport mqtt from '../MQTT'\nimport Swal from 'sweetalert2'\nimport router from '../router'\n\nexport default {\n  components: { Home },\n  data() {\n    return {\n      id: '',\n\n      date: '',\n      clinicName: '',\n      time: '',\n      dentist: '',\n\n      newBooking: '',\n      newDate: '',\n      clinics: '',\n      name: '',\n      address: ''\n    }\n  },\n  mounted() {\n    //this.getNames()\n    this.showData()\n  },\n  methods: {\n    getNames() {\n      this.clinics = mqtt('getAllC', '/clinics', this.data)\n      setTimeout(() => {\n        this.name = this.clinics[0].data.dentists[0].name\n        this.address = this.clinics[0].data.dentists[0].address\n      }, 1000)\n    },\n    showData() {\n      console.log(this.$route.query)\n      let result = this.$route.query.date\n      this.date = result.substr(0,10)\n      this.clinicName = this.$route.query.name\n      this.time = this.$route.query.time\n      this.dentist = this.$route.query.dentist\n    },\n    bookNow() {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-success',\n          cancelButton: 'btn btn-cancel'\n        },\n        buttonsStyling: true\n      })\n      swalWithBootstrapButtons.fire({\n        text: 'Are you sure you want to book this timeslot?',\n        showCancelButton: true,\n        confirmButtonText: 'Book',\n        cancelButtonText: 'Cancel',\n        cancelButtonColor: 'Red',\n        reverseButtons: true\n      }).then((result) => {\n        if (result.isConfirmed) {\n          swalWithBootstrapButtons.fire(\n            'Booked',\n            'The time has been booked!',\n            'success'\n          )\n        } else if (\n          result.dismiss === Swal.DismissReason.cancel\n        ) {\n          swalWithBootstrapButtons.fire(\n            'Cancelled',\n            'Booking is canceled!',\n            'error'\n          )\n        }\n      })\n    },\n    book() {\n      this.newBooking = {\n        userId: this.userId,\n        requestId: this.requestId,\n        dentistId: this.dentistId,\n        issuance: this.issuance,\n        date: this.newDate\n\n      }\n      const result = mqtt('book', '/bookings', this.newBooking)\n      console.log(result)\n      if (result.status === 200) {\n        console.log('succesfull')\n      } else {\n        console.log('unsuccsesfull')\n      }\n    }\n  }\n}\n\n</script>\n\n<style>\n    .booking-box {\n    margin-top: 3rem;\n    box-sizing: border-box;\n    height: auto;\n    border-radius: 25px;\n    text-align: center;\n    margin-left: 30%;\n    margin-right: 30%;\n    background: #ffffff;\n    padding: 40px;\n    color: #4B6AA7;\n    box-shadow: 4px 10px 10px rgba(143, 145, 190, 0.25);\n    }\n    .book-button {\n    padding: 14px;\n    display:inline-block;\n    text-align: center;\n    margin-top: 1rem;\n    box-sizing: border-box;\n    height: auto;\n    background-color: #748FC4;\n    color: #ffffff;\n    border-radius: 23px;\n    cursor: pointer;\n    border: 2px solid #748FC4;\n    box-shadow: 0px 4px 4px rgba(143, 145, 190, 0.25);\n    }\n    .edit-text {\n    color: #ffffff;\n    }\n    .book-button:hover {\n    background-color: #71C68A;\n    border: 2px solid #71C68A;\n    }\n</style>\n"]}]}