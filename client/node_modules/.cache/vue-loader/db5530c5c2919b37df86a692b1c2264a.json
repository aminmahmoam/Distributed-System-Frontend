{"remainingRequest":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aminmahmoudi/Desktop/DIT356/client 2/client/src/views/Booking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/src/views/Booking.vue","mtime":1670418662755},{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aminmahmoudi/Desktop/DIT356/client 2/client/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBIb21lIGZyb20gJy4vSG9tZS52dWUnCmltcG9ydCBtcXR0IGZyb20gJy4uL01RVFQnCmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBIb21lIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiAnJywKICAgICAgZGF0ZTogJycsCiAgICAgIG5ld0Jvb2tpbmc6ICcnLAogICAgICBuZXdEYXRlOiAnJywKICAgICAgY2xpbmljczogJycsCiAgICAgIG5hbWU6ICcnLAogICAgICBhZGRyZXNzOiAnJwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TmFtZXMoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TmFtZXMoKSB7CiAgICAgIHRoaXMuY2xpbmljcyA9IG1xdHQoJ2dldEFsbEMnLCAnL2NsaW5pY3MnLCB0aGlzLmRhdGEpCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY2xpbmljc1swXS5kYXRhLmRlbnRpc3RzWzBdLm5hbWUKICAgICAgICB0aGlzLmFkZHJlc3MgPSB0aGlzLmNsaW5pY3NbMF0uZGF0YS5kZW50aXN0c1swXS5hZGRyZXNzCiAgICAgIH0sIDEwMDApCiAgICB9LAogICAgYm9va05vdygpIHsKICAgICAgY29uc3Qgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zID0gU3dhbC5taXhpbih7CiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICdidG4gYnRuLXN1Y2Nlc3MnLAogICAgICAgICAgY2FuY2VsQnV0dG9uOiAnYnRuIGJ0bi1jYW5jZWwnCiAgICAgICAgfSwKICAgICAgICBidXR0b25zU3R5bGluZzogdHJ1ZQogICAgICB9KQogICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSh7CiAgICAgICAgdGV4dDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBib29rIHRoaXMgdGltZXNsb3Q/JywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnQm9vaycsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICdSZWQnLAogICAgICAgIHJldmVyc2VCdXR0b25zOiB0cnVlCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKAogICAgICAgICAgICAnQm9va2VkJywKICAgICAgICAgICAgJ1RoZSB0aW1lIGhhcyBiZWVuIGJvb2tlZCEnLAogICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICkKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgcmVzdWx0LmRpc21pc3MgPT09IFN3YWwuRGlzbWlzc1JlYXNvbi5jYW5jZWwKICAgICAgICApIHsKICAgICAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKAogICAgICAgICAgICAnQ2FuY2VsbGVkJywKICAgICAgICAgICAgJ0Jvb2tpbmcgaXMgY2FuY2VsZWQhJywKICAgICAgICAgICAgJ2Vycm9yJwogICAgICAgICAgKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBib29rKCkgewogICAgICB0aGlzLm5ld0Jvb2tpbmcgPSB7CiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkLAogICAgICAgIGRlbnRpc3RJZDogdGhpcy5kZW50aXN0SWQsCiAgICAgICAgaXNzdWFuY2U6IHRoaXMuaXNzdWFuY2UsCiAgICAgICAgZGF0ZTogdGhpcy5uZXdEYXRlCgogICAgICB9CiAgICAgIGNvbnN0IHJlc3VsdCA9IG1xdHQoJ2Jvb2snLCAnL2Jvb2tpbmdzJywgdGhpcy5uZXdCb29raW5nKQogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICBjb25zb2xlLmxvZygnc3VjY2VzZnVsbCcpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coJ3Vuc3VjY3Nlc2Z1bGwnKQogICAgICB9CiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["Booking.vue"],"names":[],"mappings":";AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Booking.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"booking-box\">\n    <h2 style=\"color: #748FC4 \">Hi Julia,</h2>\n    <p style=\"margin-bottom: 60px; font-size: 18px; color: #748FC4 \">Please confirm the following details below</p>\n        <h1 style=\"margin-top: 20px; margin-bottom: -1px;\">{{this.name}}</h1>\n        <h style=\"font-size: 24px;\">{{this.address}}</h>\n        <h2>13 December 2022</h2>\n        <h1>12:00</h1>\n        <div class=\"book-button\" style=\"margin-top: 50px; color: #748FC4\" @click=\"bookNow\"><h class=\"edit-text\">Book Now</h></div>\n    </div>\n</template>\n\n<script>\nimport Home from './Home.vue'\nimport mqtt from '../MQTT'\nimport Swal from 'sweetalert2'\nexport default {\n  components: { Home },\n  data() {\n    return {\n      id: '',\n      date: '',\n      newBooking: '',\n      newDate: '',\n      clinics: '',\n      name: '',\n      address: ''\n    }\n  },\n  mounted() {\n    this.getNames()\n  },\n  methods: {\n    getNames() {\n      this.clinics = mqtt('getAllC', '/clinics', this.data)\n      setTimeout(() => {\n        this.name = this.clinics[0].data.dentists[0].name\n        this.address = this.clinics[0].data.dentists[0].address\n      }, 1000)\n    },\n    bookNow() {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'btn btn-success',\n          cancelButton: 'btn btn-cancel'\n        },\n        buttonsStyling: true\n      })\n      swalWithBootstrapButtons.fire({\n        text: 'Are you sure you want to book this timeslot?',\n        showCancelButton: true,\n        confirmButtonText: 'Book',\n        cancelButtonText: 'Cancel',\n        cancelButtonColor: 'Red',\n        reverseButtons: true\n      }).then((result) => {\n        if (result.isConfirmed) {\n          swalWithBootstrapButtons.fire(\n            'Booked',\n            'The time has been booked!',\n            'success'\n          )\n        } else if (\n          result.dismiss === Swal.DismissReason.cancel\n        ) {\n          swalWithBootstrapButtons.fire(\n            'Cancelled',\n            'Booking is canceled!',\n            'error'\n          )\n        }\n      })\n    },\n    book() {\n      this.newBooking = {\n        userId: this.userId,\n        requestId: this.requestId,\n        dentistId: this.dentistId,\n        issuance: this.issuance,\n        date: this.newDate\n\n      }\n      const result = mqtt('book', '/bookings', this.newBooking)\n      console.log(result)\n      if (result.status === 200) {\n        console.log('succesfull')\n      } else {\n        console.log('unsuccsesfull')\n      }\n    }\n  }\n}\n\n</script>\n\n<style>\n    .booking-box {\n    margin-top: 3rem;\n    box-sizing: border-box;\n    height: auto;\n    border-radius: 25px;\n    text-align: center;\n    margin-left: 30%;\n    margin-right: 30%;\n    background: #ffffff;\n    padding: 40px;\n    color: #4B6AA7;\n    box-shadow: 4px 10px 10px rgba(143, 145, 190, 0.25);\n    }\n    .book-button {\n    padding: 14px;\n    display:inline-block;\n    text-align: center;\n    margin-top: 1rem;\n    box-sizing: border-box;\n    height: auto;\n    background-color: #748FC4;\n    color: #ffffff;\n    border-radius: 23px;\n    cursor: pointer;\n    border: 2px solid #748FC4;\n    box-shadow: 0px 4px 4px rgba(143, 145, 190, 0.25);\n    }\n    .edit-text {\n    color: #ffffff;\n    }\n    .book-button:hover {\n    background-color: #71C68A;\n    border: 2px solid #71C68A;\n    }\n</style>\n"]}]}